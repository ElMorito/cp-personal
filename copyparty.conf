# CopyParty Personal Server Configuration
# Nextcloud replacement for personal files

# General settings
enable2:
  - dsa      # File indexing
  - ts       # Audio metadata indexing
  - fk       # File keys for security
  - dk       # Directory keys

# Volume definitions
# Personal files (read/write for authenticated users)
volume:
  - path: /data/personal
    name: personal
    accs:
      - "rw,admin"
      - "rw,user"

# Shared files (readable by guests, writable by users)
  - path: /data/shared
    name: shared  
    accs:
      - "r"
      - "rw,admin"
      - "rw,user"

# Private admin area
  - path: /data/admin
    name: admin
    accs:
      - "rw,admin"

# User accounts
# Format: username:password_hash:permissions
# Use: python3 -m copyparty --hash-pwd to generate password hashes
accounts:
  - "admin:changeme123!:admin"
  - "user:userpass456!:user"

# UI and features
grid-album: auto
grid-singer: auto
theme: classic
name: "Personal Files"
force-js: true

# Upload settings  
upload-min-chunksize: 65536
upload-max-age: 31536000  # 1 year
unpost: admin,user

# Search and indexing
no-acode: false
no-logues: false

# Security
filekeys: true
dirkeys: true
no-robots: true